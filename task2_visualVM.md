# Домашняя работа "Исследование JVM через VisualVM"
## Код для исследования
```java
Please open 'ru.netology.JvmExperience' in VisualVm
09:17:50.862409300: loading io.vertx
09:17:51.543621500: loaded 529 classes
09:17:54.556837700: loading io.netty
09:17:55.826086500: loaded 2117 classes
09:17:58.830296900: loading org.springframework
09:17:59.324852300: loaded 869 classes
09:18:02.339608: now see heap
09:18:02.340041300: creating 5000000 objects
09:18:02.868595600: created
09:18:05.873920600: creating 5000000 objects
09:18:06.196149100: created
09:18:09.296671900: creating 5000000 objects
09:18:09.593711500: created
```
<br>

## Вкладка Classes
+ c 9:17:50 по 9:17:51 создаются 529 классов из фрейма `Vetrx`
+ c 9:17:54 по 9:17:55 создаются 2117 классов из фрейма `Netty`
+ c 9:17:58 по 9:17:59 создаются 869 классов из фрейма `Spring`
+ далее создается только один класс

![Classes](classes.jpg)
<br>
<br>

## Вкладка Metaspace
+ 50-51 секунда загрузка классов для `Vetrx`
+ 58-59 секунда загрузка классов для `Netty`и `Spring`(я так думаю, тк на 54-55 секунде ничего не происходит, а программа именно в это время запускает создание классов для `Netty`) и происходит увеличение памяти в 3 раза, что по цифрам похоже на загрузку обоих фреймов
+ на 18:02 добавляется последний класс, дальше ничего не меняется

![Metaspace](metaspace.jpg)
<br>
<br>

## Вкладка Heap
+ 50,54,58 секунды выделение памяти для объектов метода `loadToMetaspaceAllFrom` 
+ после 59 секунды сборщик мусора чистит `heap`, тк никто эти объекты не использует никак в программе
+ на 18:02 происходит выделение памяти для `List<SimpleObject>` и увеличивается максимальный размер `heap`
+ на 18:05 происходит еще выделение памяти на увеличенный `List<SimpleObject>`,  увеличивается максимальный размер `heap`
+ на 18:09 происходит еще выделение памяти на увеличенный `List<SimpleObject>`,  увеличивается максимальный размер `heap`

![heap](heap.jpg)
